define(["jquery","routing","select2"],function(e,a){"use strict";var r={limit:10,route:null,route_params:[],allow_clear:!0};return e.fn.entitySearchWidget=function(){return this.each(function(){var t=e(this),n=e.extend({},r,t.data("config"));t.select2({allowClear:n.allow_clear,minimumInputLength:3,ajax:{delay:300,url:a.generate(n.route,n.route_params),dataType:"json",data:function(t){return{query:t.term,page:t.page,limit:n.limit}},processResults:function(t,e){return e.page=e.page||1,{results:t.results,pagination:{more:e.page*n.limit<t.total_count}}},escapeMarkup:function(t){return t}}})}),this},{init:function(t){t.entitySearchWidget()}}});