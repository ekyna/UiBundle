define(["require","jquery","json!ekyna-form/plugins","select2","jquery/form"],function(i,n,s){"use strict";n.fn.select2.defaults.set("theme","bootstrap"),n.fn.select2.defaults.set("width",null),document.querySelectorAll("textarea:not(.tinymce)").forEach(function(t){t.style.boxSizing="border-box",t.style.resize="none";const e=t.offsetHeight-t.clientHeight;t.addEventListener("input",function(t){t.target.style.height="auto",t.target.style.height=t.target.scrollHeight+e+"px"})});function o(t,e){this.$elem=n(t),this.options=e}o.prototype={constructor:o,getElement:function(){return this.$elem},init:function(t){let e={};t&&1===t.length&&(e.dropdownParent=t),this.$elem.find("select.select2").select2(e),n.each(s,(t,e)=>{let n=this.$elem;0<(n=n.is(t)?n:this.$elem.find(t)).length&&e.forEach(function(t){i([t],function(t){t.init(n)})})}),this.$elem.data("form",this)},destroy:function(){this.$elem.find("select.select2").select2("destroy"),n.each(s,(t,e)=>{let n=this.$elem;0<(n=n.is(t)?n:this.$elem.find(t)).length&&e.forEach(function(t){i([t],function(t){t.hasOwnProperty("destroy")&&t.destroy(n)})})})},save:function(){n.each(s,(t,e)=>{let n=this.$elem;0<(n=n.is(t)?n:this.$elem.find(t)).length&&e.forEach(function(t){i([t],function(t){t.hasOwnProperty("save")&&t.save(n)})})})}},n(".form-with-tabs input, .form-with-tabs textarea, .form-with-tabs select").on("invalid",function(t){var e=n(t.target).eq(0).parents(".tab-pane");e.length?r(e):t.preventDefault()});const t=n("form .has-error");function r(t){t.each(function(){const t=n('a[href="#'+n(this).attr("id")+'"]');1===t.length&&t.tab("show")})}return t.length&&r(t.eq(0).parents(".tab-pane")),{create:function(t,e){return new o(t,e)}}});